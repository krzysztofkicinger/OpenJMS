<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri May 07 18:37:59 EST 2004 -->
<TITLE>
OpenJMS 0.7.6.1 API: Class  PersistenceAdapter
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PersistenceAdapter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/exolab/jms/tools/admin/OpenJMSUser.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PersistenceAdapter.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.exolab.jms.persistence</FONT>
<BR>
Class  PersistenceAdapter</H2>
<PRE>
java.lang.Object
  |
  +--<B>org.exolab.jms.persistence.PersistenceAdapter</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../org/exolab/jms/persistence/BatchingRdbmsAdapter.html">BatchingRdbmsAdapter</A>, <A HREF="../../../../org/exolab/jms/persistence/ObjectAdapter.html">ObjectAdapter</A>, <A HREF="../../../../org/exolab/jms/persistence/RDBMSAdapter.html">RDBMSAdapter</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>PersistenceAdapter</B><DT>extends java.lang.Object</DL>

<P>
This adapter is a wrapper class around the persistency mechanism.
 It isolates the client from the working specifics of the database, by
 providing a simple straight forward interface. Future changes to
 the database will only require changes to the adapter.
<P>
<DL>
<DT><B>Version: </B><DD>$Revision: 1.39.2.1 $ $Date: 2004/05/04 01:26:48 $</DD>
<DT><B>Author: </B><DD><a href="mailto:mourikis@exolab.org">Jim Mourikis</a></DD>
<DT><B>See Also: </B><DD><A HREF="../../../../org/exolab/jms/persistence/ObjectAdapter.html"><CODE>ObjectAdapter</CODE></A>, 
<A HREF="../../../../org/exolab/jms/persistence/RDBMSAdapter.html"><CODE>RDBMSAdapter</CODE></A></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#PersistenceAdapter()">PersistenceAdapter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#addDestination(java.sql.Connection, java.lang.String, boolean)">addDestination</A></B>(java.sql.Connection&nbsp;connection,
               java.lang.String&nbsp;name,
               boolean&nbsp;queue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new destination to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#addDurableConsumer(java.sql.Connection, java.lang.String, java.lang.String)">addDurableConsumer</A></B>(java.sql.Connection&nbsp;connection,
                   java.lang.String&nbsp;topic,
                   java.lang.String&nbsp;consumer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the specified durable consumer</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#addMessage(java.sql.Connection, org.exolab.jms.message.MessageImpl)">addMessage</A></B>(java.sql.Connection&nbsp;connection,
           <A HREF="../../../../org/exolab/jms/message/MessageImpl.html">MessageImpl</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new message to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#addMessageHandle(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)">addMessageHandle</A></B>(java.sql.Connection&nbsp;connection,
                 <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the specified persistent message handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#addUser(java.sql.Connection, org.exolab.jms.authentication.User)">addUser</A></B>(java.sql.Connection&nbsp;connection,
        <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#checkDestination(java.sql.Connection, java.lang.String)">checkDestination</A></B>(java.sql.Connection&nbsp;connection,
                 java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine if a particular destination name exists</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the database if open.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#durableConsumerExists(java.sql.Connection, java.lang.String)">durableConsumerExists</A></B>(java.sql.Connection&nbsp;connection,
                      java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if the durable consumer exists</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getAllDestinations(java.sql.Connection)">getAllDestinations</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all destinations stored in the database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.HashMap</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getAllDurableConsumers(java.sql.Connection)">getAllDurableConsumers</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a dictionary of all registered durable consumers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getAllUsers(java.sql.Connection)">getAllUsers</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getConnection()">getConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a connection to this persistent data store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getDurableConsumerMessageCount(java.sql.Connection, java.lang.String, java.lang.String)">getDurableConsumerMessageCount</A></B>(java.sql.Connection&nbsp;connection,
                               java.lang.String&nbsp;destination,
                               java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of unsent message for the specified durable
 consumer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getDurableConsumers(java.sql.Connection, java.lang.String)">getDurableConsumers</A></B>(java.sql.Connection&nbsp;connection,
                    java.lang.String&nbsp;topic)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get an enumerated list of all durable consumers for the
 specified JmsTopic destination</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getLastId(java.sql.Connection)">getLastId</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check to see if the root is created.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../../../../org/exolab/jms/message/MessageImpl.html">MessageImpl</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getMessage(java.sql.Connection, java.lang.String)">getMessage</A></B>(java.sql.Connection&nbsp;connection,
           java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a message from the persistence store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getMessageHandles(java.sql.Connection, org.exolab.jms.client.JmsDestination, java.lang.String)">getMessageHandles</A></B>(java.sql.Connection&nbsp;connection,
                  <A HREF="../../../../org/exolab/jms/client/JmsDestination.html">JmsDestination</A>&nbsp;destination,
                  java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get all the persistent message handles for the specified destination
 and consumer name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getMessages(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)">getMessages</A></B>(java.sql.Connection&nbsp;connection,
            <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get at least the next message given the specified persistent
 handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getNonExpiredMessages(java.sql.Connection, org.exolab.jms.client.JmsDestination)">getNonExpiredMessages</A></B>(java.sql.Connection&nbsp;connection,
                      <A HREF="../../../../org/exolab/jms/client/JmsDestination.html">JmsDestination</A>&nbsp;destination)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a list of unexpired <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html"><CODE>PersistentMessageHandle</CODE></A> objects, 
 for the specified destination.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getQueueMessageCount(java.sql.Connection, java.lang.String)">getQueueMessageCount</A></B>(java.sql.Connection&nbsp;connection,
                     java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of unsent messages for a the specified queue</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getUnprocessedMessages(java.sql.Connection)">getUnprocessedMessages</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a list of unprocessed messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../../../../org/exolab/jms/authentication/User.html">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#getUser(java.sql.Connection, org.exolab.jms.authentication.User)">getUser</A></B>(java.sql.Connection&nbsp;connection,
        <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#purgeMessages()">purgeMessages</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>no replacement</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeDestination(java.sql.Connection, java.lang.String)">removeDestination</A></B>(java.sql.Connection&nbsp;connection,
                  java.lang.String&nbsp;destination)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the destination with the specified name and all registered
 consumers from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeDurableConsumer(java.sql.Connection, java.lang.String)">removeDurableConsumer</A></B>(java.sql.Connection&nbsp;connection,
                      java.lang.String&nbsp;consumer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the durable consumer for the specified topic.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeExpiredMessageHandles(java.sql.Connection, java.lang.String)">removeExpiredMessageHandles</A></B>(java.sql.Connection&nbsp;connection,
                            java.lang.String&nbsp;consumer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove all expired messages handles associated with this durable
 consumer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeExpiredMessages(java.sql.Connection)">removeExpiredMessages</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove all expired messages and associated references from the
 database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeMessage(java.sql.Connection, java.lang.String)">removeMessage</A></B>(java.sql.Connection&nbsp;connection,
              java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the message with the specified identity from the database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeMessageHandle(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)">removeMessageHandle</A></B>(java.sql.Connection&nbsp;connection,
                    <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the specified persistent message handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#removeUser(java.sql.Connection, org.exolab.jms.authentication.User)">removeUser</A></B>(java.sql.Connection&nbsp;connection,
           <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#updateIds(java.sql.Connection, long)">updateIds</A></B>(java.sql.Connection&nbsp;connection,
          long&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the given id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#updateMessage(java.sql.Connection, org.exolab.jms.message.MessageImpl)">updateMessage</A></B>(java.sql.Connection&nbsp;connection,
              <A HREF="../../../../org/exolab/jms/message/MessageImpl.html">MessageImpl</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update this message in the database</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#updateMessageHandle(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)">updateMessageHandle</A></B>(java.sql.Connection&nbsp;connection,
                    <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the specified persistent message handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/exolab/jms/persistence/PersistenceAdapter.html#updateUser(java.sql.Connection, org.exolab.jms.authentication.User)">updateUser</A></B>(java.sql.Connection&nbsp;connection,
           <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="PersistenceAdapter()"><!-- --></A><H3>
PersistenceAdapter</H3>
<PRE>
public <B>PersistenceAdapter</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public abstract void <B>close</B>()</PRE>
<DL>
<DD>Close the database if open.</DL>
<HR>

<A NAME="getLastId(java.sql.Connection)"><!-- --></A><H3>
getLastId</H3>
<PRE>
public abstract long <B>getLastId</B>(java.sql.Connection&nbsp;connection)
                        throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Check to see if the root is created. If its not then create it
 and initialise it to 0.
 Return the value of this root id.<DD><DL>
<DT><B>Returns:</B><DD>long The id of the last batch.<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="updateIds(java.sql.Connection, long)"><!-- --></A><H3>
updateIds</H3>
<PRE>
public abstract void <B>updateIds</B>(java.sql.Connection&nbsp;connection,
                               long&nbsp;id)
                        throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Update the given id.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>id</CODE> - The id to set in the database.<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="addMessage(java.sql.Connection, org.exolab.jms.message.MessageImpl)"><!-- --></A><H3>
addMessage</H3>
<PRE>
public abstract void <B>addMessage</B>(java.sql.Connection&nbsp;connection,
                                <A HREF="../../../../org/exolab/jms/message/MessageImpl.html">MessageImpl</A>&nbsp;message)
                         throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Add a new message to the database.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>MessageImpl</CODE> - the new message to add<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="updateMessage(java.sql.Connection, org.exolab.jms.message.MessageImpl)"><!-- --></A><H3>
updateMessage</H3>
<PRE>
public abstract void <B>updateMessage</B>(java.sql.Connection&nbsp;connection,
                                   <A HREF="../../../../org/exolab/jms/message/MessageImpl.html">MessageImpl</A>&nbsp;message)
                            throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Update this message in the database<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>MessageImpl</CODE> - the new message to update<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="removeMessage(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
removeMessage</H3>
<PRE>
public abstract void <B>removeMessage</B>(java.sql.Connection&nbsp;connection,
                                   java.lang.String&nbsp;id)
                            throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Remove the message with the specified identity from the database<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>name</CODE> - - the identity of the message to remove.<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="removeExpiredMessages(java.sql.Connection)"><!-- --></A><H3>
removeExpiredMessages</H3>
<PRE>
public abstract void <B>removeExpiredMessages</B>(java.sql.Connection&nbsp;connection)
                                    throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Remove all expired messages and associated references from the
 database. It uses the current time to determine messages that
 have exipred.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="removeExpiredMessageHandles(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
removeExpiredMessageHandles</H3>
<PRE>
public abstract void <B>removeExpiredMessageHandles</B>(java.sql.Connection&nbsp;connection,
                                                 java.lang.String&nbsp;consumer)
                                          throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Remove all expired messages handles associated with this durable
 consumer.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>consumer</CODE> - - the durable consumer name<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getNonExpiredMessages(java.sql.Connection, org.exolab.jms.client.JmsDestination)"><!-- --></A><H3>
getNonExpiredMessages</H3>
<PRE>
public abstract java.util.Vector <B>getNonExpiredMessages</B>(java.sql.Connection&nbsp;connection,
                                                       <A HREF="../../../../org/exolab/jms/client/JmsDestination.html">JmsDestination</A>&nbsp;destination)
                                                throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Retrieve a list of unexpired <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html"><CODE>PersistentMessageHandle</CODE></A> objects, 
 for the specified destination.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>destination</CODE> - - the destination in question<DT><B>Returns:</B><DD>Vector - collection of unexpired message handles<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getMessage(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
getMessage</H3>
<PRE>
public abstract <A HREF="../../../../org/exolab/jms/message/MessageImpl.html">MessageImpl</A> <B>getMessage</B>(java.sql.Connection&nbsp;connection,
                                       java.lang.String&nbsp;id)
                                throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Get a message from the persistence store.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>String</CODE> - The id of the message to search for<DT><B>Returns:</B><DD>MessageImpl	 The message if found otherwise null<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getMessages(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)"><!-- --></A><H3>
getMessages</H3>
<PRE>
public abstract java.util.Vector <B>getMessages</B>(java.sql.Connection&nbsp;connection,
                                             <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)
                                      throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Get at least the next message given the specified persistent
 handle. The handle encodes all the information, including destination
 and timestamp, required to fetch that and successive messages. This
 will fault in more than one message for performance<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>handle</CODE> - - the persistent handle to resolve<DT><B>Returns:</B><DD>Vector - a vector of MessageImpl<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getUnprocessedMessages(java.sql.Connection)"><!-- --></A><H3>
getUnprocessedMessages</H3>
<PRE>
public abstract java.util.Vector <B>getUnprocessedMessages</B>(java.sql.Connection&nbsp;connection)
                                                 throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Return a list of unprocessed messages. These are messages that have
 been stored in the database but not processed.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DT><B>Returns:</B><DD>Vector - a collection of un processed messages<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="addMessageHandle(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)"><!-- --></A><H3>
addMessageHandle</H3>
<PRE>
public abstract void <B>addMessageHandle</B>(java.sql.Connection&nbsp;connection,
                                      <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)
                               throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Add the specified persistent message handle.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>handle</CODE> - - the persistent handle to add<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="updateMessageHandle(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)"><!-- --></A><H3>
updateMessageHandle</H3>
<PRE>
public abstract void <B>updateMessageHandle</B>(java.sql.Connection&nbsp;connection,
                                         <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)
                                  throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Update the specified persistent message handle.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>handle</CODE> - - the persistent handle to update<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="removeMessageHandle(java.sql.Connection, org.exolab.jms.messagemgr.PersistentMessageHandle)"><!-- --></A><H3>
removeMessageHandle</H3>
<PRE>
public abstract void <B>removeMessageHandle</B>(java.sql.Connection&nbsp;connection,
                                         <A HREF="../../../../org/exolab/jms/messagemgr/PersistentMessageHandle.html">PersistentMessageHandle</A>&nbsp;handle)
                                  throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Remove the specified persistent message handle.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>handle</CODE> - - the persistent handle to remove<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;<DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getMessageHandles(java.sql.Connection, org.exolab.jms.client.JmsDestination, java.lang.String)"><!-- --></A><H3>
getMessageHandles</H3>
<PRE>
public abstract java.util.Vector <B>getMessageHandles</B>(java.sql.Connection&nbsp;connection,
                                                   <A HREF="../../../../org/exolab/jms/client/JmsDestination.html">JmsDestination</A>&nbsp;destination,
                                                   java.lang.String&nbsp;name)
                                            throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Get all the persistent message handles for the specified destination
 and consumer name.
 <p>
 The returned messages reference unacked or unsent messages
 <p>
 NEED A STRATEGY WHEN WE HAVE LOTS OF MESSAGE HANDLES<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>destination</CODE> - - the destination to reference<DD><CODE>name</CODE> - - the consumer name<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="addDurableConsumer(java.sql.Connection, java.lang.String, java.lang.String)"><!-- --></A><H3>
addDurableConsumer</H3>
<PRE>
public abstract void <B>addDurableConsumer</B>(java.sql.Connection&nbsp;connection,
                                        java.lang.String&nbsp;topic,
                                        java.lang.String&nbsp;consumer)
                                 throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Add the specified durable consumer<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>topic</CODE> - - the name of the topic<DD><CODE>name</CODE> - - the name of the consumer<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="removeDurableConsumer(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
removeDurableConsumer</H3>
<PRE>
public abstract void <B>removeDurableConsumer</B>(java.sql.Connection&nbsp;connection,
                                           java.lang.String&nbsp;consumer)
                                    throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Remove the durable consumer for the specified topic.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>consumer</CODE> - - the consumer name<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="durableConsumerExists(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
durableConsumerExists</H3>
<PRE>
public abstract boolean <B>durableConsumerExists</B>(java.sql.Connection&nbsp;connection,
                                              java.lang.String&nbsp;name)
                                       throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Check if the durable consumer exists<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>name</CODE> - - durable consumer name<DT><B>Returns:</B><DD>boolean - true if it exists and false otherwise<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getDurableConsumers(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
getDurableConsumers</H3>
<PRE>
public abstract java.util.Enumeration <B>getDurableConsumers</B>(java.sql.Connection&nbsp;connection,
                                                          java.lang.String&nbsp;topic)
                                                   throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Get an enumerated list of all durable consumers for the
 specified JmsTopic destination<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>topic</CODE> - - the topic to query<DT><B>Returns:</B><DD>Vector - list of durable subscriber names<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getAllDurableConsumers(java.sql.Connection)"><!-- --></A><H3>
getAllDurableConsumers</H3>
<PRE>
public abstract java.util.HashMap <B>getAllDurableConsumers</B>(java.sql.Connection&nbsp;connection)
                                                  throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Return a dictionary of all registered durable consumers. The
 dictionary is keyed on consumer name and maps to the underlying
 destination name. The destination name maybe a wildcard<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DT><B>Returns:</B><DD>HashMap key=consumer name and value is destination<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="addDestination(java.sql.Connection, java.lang.String, boolean)"><!-- --></A><H3>
addDestination</H3>
<PRE>
public abstract void <B>addDestination</B>(java.sql.Connection&nbsp;connection,
                                    java.lang.String&nbsp;name,
                                    boolean&nbsp;queue)
                             throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Add a new destination to the database.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>name</CODE> - - the destination name<DD><CODE>queue</CODE> - - true if it pertains to a queue<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="removeDestination(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
removeDestination</H3>
<PRE>
public abstract void <B>removeDestination</B>(java.sql.Connection&nbsp;connection,
                                       java.lang.String&nbsp;destination)
                                throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Remove the destination with the specified name and all registered
 consumers from the database.
 Consumer registrations.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>destination</CODE> - - the name of the destination<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="checkDestination(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
checkDestination</H3>
<PRE>
public abstract boolean <B>checkDestination</B>(java.sql.Connection&nbsp;connection,
                                         java.lang.String&nbsp;name)
                                  throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Determine if a particular destination name exists<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>name</CODE> - - the name to query<DT><B>Returns:</B><DD>boolean - true if it exists; false otherwise<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getAllDestinations(java.sql.Connection)"><!-- --></A><H3>
getAllDestinations</H3>
<PRE>
public abstract java.util.Enumeration <B>getAllDestinations</B>(java.sql.Connection&nbsp;connection)
                                                  throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Get a list of all destinations stored in the database<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DT><B>Returns:</B><DD>Enumeration - the list of destinations<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getQueueMessageCount(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
getQueueMessageCount</H3>
<PRE>
public abstract int <B>getQueueMessageCount</B>(java.sql.Connection&nbsp;connection,
                                         java.lang.String&nbsp;name)
                                  throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Get the number of unsent messages for a the specified queue<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>name</CODE> - - the name of the queue<DT><B>Returns:</B><DD>int - the number of unsent or unacked messages<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="getDurableConsumerMessageCount(java.sql.Connection, java.lang.String, java.lang.String)"><!-- --></A><H3>
getDurableConsumerMessageCount</H3>
<PRE>
public abstract int <B>getDurableConsumerMessageCount</B>(java.sql.Connection&nbsp;connection,
                                                   java.lang.String&nbsp;destination,
                                                   java.lang.String&nbsp;name)
                                            throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Return the number of unsent message for the specified durable
 consumer.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - - the connection to use<DD><CODE>destination</CODE> - - the destination name<DD><CODE>name</CODE> - - the name of the durable subscriber<DT><B>Returns:</B><DD>int - the nmber of unsent or unacked messages<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - &nbsp;</DL>
</DD>
</DL>
<HR>

<A NAME="purgeMessages()"><!-- --></A><H3>
purgeMessages</H3>
<PRE>
public abstract int <B>purgeMessages</B>()</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>no replacement</I>
<P>
<DD>Purge all processed messages from the database.<DD><DL>
<DT><B>Returns:</B><DD>int - the number of messages purged</DL>
</DD>
</DL>
<HR>

<A NAME="getConnection()"><!-- --></A><H3>
getConnection</H3>
<PRE>
public abstract java.sql.Connection <B>getConnection</B>()
                                           throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
<DD>Return a connection to this persistent data store.<DD><DL>
<DT><B>Returns:</B><DD>Connection - a connection to the persistent store or null<DT><B>Throws:</B><DD><CODE><A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></CODE> - - if it cannot retrieve a connection</DL>
</DD>
</DL>
<HR>

<A NAME="getAllUsers(java.sql.Connection)"><!-- --></A><H3>
getAllUsers</H3>
<PRE>
public abstract java.util.Enumeration <B>getAllUsers</B>(java.sql.Connection&nbsp;connection)
                                           throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
</DL>
<HR>

<A NAME="addUser(java.sql.Connection, org.exolab.jms.authentication.User)"><!-- --></A><H3>
addUser</H3>
<PRE>
public abstract void <B>addUser</B>(java.sql.Connection&nbsp;connection,
                             <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)
                      throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
</DL>
<HR>

<A NAME="removeUser(java.sql.Connection, org.exolab.jms.authentication.User)"><!-- --></A><H3>
removeUser</H3>
<PRE>
public abstract void <B>removeUser</B>(java.sql.Connection&nbsp;connection,
                                <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)
                         throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
</DL>
<HR>

<A NAME="updateUser(java.sql.Connection, org.exolab.jms.authentication.User)"><!-- --></A><H3>
updateUser</H3>
<PRE>
public abstract void <B>updateUser</B>(java.sql.Connection&nbsp;connection,
                                <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)
                         throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
</DL>
<HR>

<A NAME="getUser(java.sql.Connection, org.exolab.jms.authentication.User)"><!-- --></A><H3>
getUser</H3>
<PRE>
public abstract <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A> <B>getUser</B>(java.sql.Connection&nbsp;connection,
                             <A HREF="../../../../org/exolab/jms/authentication/User.html">User</A>&nbsp;user)
                      throws <A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html">PersistenceException</A></PRE>
<DL>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PersistenceAdapter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/exolab/jms/tools/admin/OpenJMSUser.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/exolab/jms/persistence/PersistenceException.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PersistenceAdapter.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright &copy; 1999-2004 The OpenJMS Group. All Rights Reserved.
</BODY>
</HTML>
